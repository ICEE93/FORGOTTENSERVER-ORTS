FORGOTTENSERVER-ORTS
====================
Client Version: 10.37
Try to make the perfect open real tibia server based on forgottenserver by Mark Samman!
Here you can find the sources and also some compile tutorials: https://github.com/otland/forgottenserver

To login you can use otclient by Edubart!
https://github.com/edubart/otclient

Also you can use the forum to discuss and report:
http://otland.net/threads/best-released-real-map-10-31-based-1-0.204514/

```
If you want to contribute by sending pull request, here is some tips.
Try to use metatables on your script. Ex.
function metaExample(cid)
	local player = Player(cid)
	if player ~= nil then
		player:addItem(2160, 5)
		player:sendTextMessage(MESSAGE_STATUS_CONSOLE_BLUE, "Here is some cash.")
	end
end

How non meta looks like:
function nonMetaExample(cid)
	if isPlayer(cid) then
		doPlayerAddItem(cid, 2160, 5)
		doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "Here is some cash.")
	end
end

Try to use redundant parentheses, when its needed. E.g:
if player:getStorageValue(1000) == 1 then

instead of:
if (player:getStorageValue(1000) == 1) then

LUA METATABLE LIST

Combat()
Combat.new()
combat:execute(creature, variant)
combat:setArea(area)
combat:setCallBack(key, function)
combat:setCondition(condition)
combat:setFormula(type, mina, minb, maxa, maxb)
combat:setParameter(key, value)
Condition(conditionType[, conditionId = CONDITIONID_COMBAT])
Condition.new(conditionType[, conditionId = CONDITIONID_COMBAT])
condition:addDamage(rounds, time, value)
condition:addOutfit(lookTypeEx, lookType, lookHead, lookBody, lookLegs, lookFeet[, lookAddons[, lookMount]])
condition:addOutfit(outfit)
condition:clone()
condition:getEndTime()
condition:getIcons()
condition:getId()
condition:getSubId()
condition:getTicks()
condition:getType()
condition:setFormula(mina, minb, maxa, maxb)
condition:setParameter(key, value)
condition:setTicks(ticks)
Container(itemId[, position])
Container(uid)
Container.new(itemId[, position])
Container.new(uid)
container:addItem(itemId[, count/subType = 1])
container:addItemEx(item)
container:getCapacity()
container:getEmptySlots([recursive = false])
container:getItem(index)
container:getSize()
container:hasItem(item)
Creature(id/name)
Creature.new(id/name)
creature:addCondition(condition[, force = false])
creature:addHealth(healthChange)
creature:addMana(manaChange[, animationOnLoss = false])
creature:canSee(position)
creature:canSeeCreature(creature)
creature:getBaseSpeed()
creature:getCondition(conditionType[, conditionId = CONDITIONID_COMBAT[, subId = 0]])
creature:getDamageMap()
creature:getDescription(distance)
creature:getDirection()
creature:getFollowCreature()
creature:getHealth()
creature:getId()
creature:getLight()
creature:getMana()
creature:getMaster()
creature:getMaxHealth()
creature:getMaxMana()
creature:getName()
creature:getOutfit()
creature:getPosition()
creature:getSpeed()
creature:getSummons()
creature:getTarget()
creature:getTile()
creature:isCreature()
creature:isHealthHidden()
creature:isInGhostMode()
creature:isItem()
creature:isMonster()
creature:isNpc()
creature:isPlayer()
creature:isRemoved()
creature:registerEvent(name)
creature:remove()
creature:removeCondition(conditionType[, conditionId = CONDITIONID_COMBAT[, subId = 0[, force = false]]])
creature:say(text, type[, ghost = false[, target = nullptr[, position]]])
creature:setDirection(direction)
creature:setDropLoot(doDrop)
creature:setFollowCreature(followedCreature)
creature:setHiddenHealth(hide)
creature:setLight(color, level)
creature:setMaster(master)
creature:setMaxHealth(maxHealth)
creature:setOutfit(outfit)
creature:setTarget(target)
creature:teleportTo(position[, pushMovement = false])
creature:unregisterEvent(name)
Game.createItem(itemId, count[, position])
Game.createMonster(monsterName, position[, extended = false[, force = false]])
Game.createNpc(npcName, position[, extended = false[, force = false]])
Game.getExperienceStage(level)
Game.getGameState()
Game.getMonsterCount()
Game.getNpcCount()
Game.getPlayerCount()
Game.getPlayers()
Game.getReturnMessage(value)
Game.getSpectators(position[, multifloor = false[, onlyPlayer = false[, minRangeX = 0[, maxRangeX = 0[, minRangeY = 0[, maxRangeY = 0]]]]]])
Game.getWorldType()
Game.loadMap(path)
Game.setGameState(state)
Game.setWorldType(type)
Game.startRaid(raidName)
Group(id)
Group.new(id)
group:getAccess()
group:getFlags()
group:getId()
group:getMaxDepotItems()
group:getMaxVipEntries()
group:getName()
Guild(id)
Guild.new(id)
guild:addMember(player)
guild:addRank(id, name, level)
guild:getId()
guild:getMembersOnline()
guild:getMotd()
guild:getName()
guild:getRankById(id)
guild:getRankByLevel(level)
guild:removeMember(player)
guild:setMotd(motd)
House(id)
House.new(id)
house:getAccessList(listId)
house:getBedCount()
house:getBeds()
house:getDoorCount()
house:getDoors()
house:getExitPosition()
house:getId()
house:getName()
house:getOwnerGuid()
house:getRent()
house:getTileCount()
house:getTiles()
house:getTown()
house:setAccessList(listId, list)
house:setOwnerGuid(guid)
Item(uid)
Item.new(uid)
item:clone()
item:decay()
item:getActionId()
item:getArticle()
item:getAttribute(key)
item:getCharges()
item:getCount()
item:getDescription(distance)
item:getFluidType()
item:getId()
item:getName()
item:getPluralName()
item:getPosition()
item:getSubType()
item:getTile()
item:getType()
item:getUniqueId()
item:isCreature()
item:isItem()
item:moveTo(position)
item:remove([count = -1])
item:removeAttribute(key)
item:setActionId(actionId)
item:setAttribute(key, value)
item:split([count = 1])
item:transform(itemId[, count/subType = -1])
ItemType(id or name)
ItemType.new(id or name)
itemType:getArmor()
itemType:getArticle()
itemType:getAttack()
itemType:getCapacity()
itemType:getDecayId()
itemType:getDefense()
itemType:getDescription()
itemType:getElementDamage()
itemType:getElementType()
itemType:getExtraDefense()
itemType:getFluidSource()
itemType:getId()
itemType:getName()
itemType:getPluralName()
itemType:getTransformDeEquipId()
itemType:getTransformEquipId()
itemType:getType()
itemType:getWeaponType()
itemType:getWeight([count = 1[, precise = true]])
itemType:hasSubType()
itemType:isContainer()
itemType:isCorpse()
itemType:isDoor()
itemType:isFluidContainer()
itemType:isMovable()
itemType:isReadable()
itemType:isRune()
itemType:isStackable()
itemType:isWritable()
ModalWindow(id, title, message)
ModalWindow.new(id, title, message)
modalWindow:addButton(id, text)
modalWindow:addChoice(id, text)
modalWindow:getButtonCount()
modalWindow:getChoiceCount()
modalWindow:getDefaultEnterButton()
modalWindow:getDefaultEscapeButton()
modalWindow:getId()
modalWindow:getMessage()
modalWindow:getTitle()
modalWindow:hasPriority()
modalWindow:sendToPlayer(player)
modalWindow:setDefaultEnterButton(buttonId)
modalWindow:setDefaultEscapeButton(buttonId)
modalWindow:setPriority(priority)
Monster(id)
Monster.new(id)
monster:addFriend(creature)
monster:addTarget(creature[, pushFront = false])
monster:despawn()
monster:getFriendCount()
monster:getFriendList()
monster:getSpawnPosition()
monster:getTargetCount()
monster:getTargetList()
monster:getType()
monster:isFriend(creature)
monster:isIdle()
monster:isMonster()
monster:isOpponent(creature)
monster:isTarget(creature)
monster:removeFriend(creature)
monster:removeTarget(creature)
monster:searchTarget([searchType = TARGETSEARCH_DEFAULT])
monster:selectTarget(creature)
monster:setIdle(idle)
MonsterType(id or name)
MonsterType.new(id or name)
monsterType:canPushCreatures()
monsterType:canPushItems()
monsterType:getArmor()
monsterType:getAttackList()
monsterType:getBaseSpeed()
monsterType:getChangeTargetChance()
monsterType:getChangeTargetSpeed()
monsterType:getCombatImmunities()
monsterType:getConditionImmunities()
monsterType:getCorpseId()
monsterType:getCreatureEvents()
monsterType:getDefense()
monsterType:getDefenseList()
monsterType:getElementList()
monsterType:getExperience()
monsterType:getHealth()
monsterType:getLight()
monsterType:getLoot()
monsterType:getManaCost()
monsterType:getMaxHealth()
monsterType:getMaxSummons()
monsterType:getName()
monsterType:getNameDescription()
monsterType:getOutfit()
monsterType:getRace()
monsterType:getRunHealth()
monsterType:getStaticAttackChance()
monsterType:getSummonList()
monsterType:getTargetDistance()
monsterType:getVoices()
monsterType:getYellChance()
monsterType:getYellSpeedTicks()
monsterType:isAttackable()
monsterType:isConvinceable()
monsterType:isHealthShown()
monsterType:isHostile()
monsterType:isIllusionable()
monsterType:isPushable()
monsterType:isSummonable()
NetworkMessage.new()
networkMessage:addByte(number)
networkMessage:addDouble(number)
networkMessage:addItem(item[, protocolVersion = CLIENT_VERSION_MIN])
networkMessage:addItemId(itemId[, protocolVersion = CLIENT_VERSION_MIN])
networkMessage:addPosition(position)
networkMessage:addString(string)
networkMessage:addU16(number)
networkMessage:addU32(number)
networkMessage:addU64(number)
networkMessage:getByte()
networkMessage:getPosition()
networkMessage:getString()
networkMessage:getU16()
networkMessage:getU32()
networkMessage:getU64()
networkMessage:reset()
networkMessage:sendToPlayer(player)
networkMessage:skipBytes(number)
Npc([id])
Npc.new([id])
npc:isNpc()
party:addInvite(player)
party:addMember(player)
party:disband()
party:getInviteeCount()
party:getInvitees()
party:getLeader()
party:getMemberCount()
party:getMembers()
party:isSharedExperienceActive()
party:isSharedExperienceEnabled()
party:removeInvite(player)
party:removeMember(player)
party:setLeader(player)
party:setSharedExperience(active)
party:shareExperience(experience)
Player(id or name or userdata)
Player.new(id or name or userdata)
player:addBlessing(blessing)
player:addExperience(experience[, sendText = false])
player:addItem(itemId[, count = 1[, canDropOnMap = true[, subType = 1[, slot = SLOT_WHEREEVER]]]])
player:addItem(itemId[, count/subType = 1[, canDropOnMap = true[, slot = SLOT_WHEREEVER]]])
player:addItemEx(item[, canDropOnMap = false[, slot = SLOT_WHEREEVER]])
player:addManaSpent(amount)
player:addMapMark(position, type, description)
player:addMoney(money)
player:addMount(mountId)
player:addOutfit(lookType)
player:addOutfitAddon(lookType, addon)
player:addPremiumDays(days)
player:addSkillTries(skillType, tries)
player:addSoul(soulChange)
player:canLearnSpell(spellName)
player:channelSay(speaker, type, text, channelId)
player:forgetSpell(spellName)
player:getAccountId()
player:getAccountType()
player:getBankBalance()
player:getBaseMagicLevel()
player:getCapacity()
player:getClient()
player:getDeathPenalty()
player:getDepotItems(depotId)
player:getEffectiveSkillLevel(skillType)
player:getExperience()
player:getFreeCapacity()
player:getGroup()
player:getGuid()
player:getGuild()
player:getGuildLevel()
player:getGuildNick()
player:getHouse()
player:getIp()
player:getItemById(itemId, deepSearch[, subType = -1])
player:getItemCount(itemId[, subType = -1])
player:getLastLoginSaved()
player:getLevel()
player:getMagicLevel()
player:getManaSpent()
player:getMaxSoul()
player:getMoney()
player:getParty()
player:getPremiumDays()
player:getSex()
player:getSkillLevel(skillType)
player:getSkillPercent(skillType)
player:getSkillTries(skillType)
player:getSkull()
player:getSkullTime()
player:getSlotItem(slot)
player:getSoul()
player:getStamina()
player:getStorageValue(key)
player:getTown()
player:getVocation()
player:hasBlessing(blessing)
player:hasLearnedSpell(spellName)
player:hasMount(mountId)
player:hasOutfit(lookType[, addon = 0])
player:isPlayer()
player:isPzLocked()
player:learnSpell(spellName)
player:openChannel(channelId)
player:popupFYI(message)
player:removeBlessing(blessing)
player:removeItem(itemId, count[, subType = -1[, ignoreEquipped = false]])
player:removeMoney(money)
player:removeMount(mountId)
player:removeOutfit(lookType)
player:removeOutfitAddon(lookType, addon)
player:removePremiumDays(days)
player:save()
player:sendChannelMessage(author, text, type, channelId)
player:sendOutfitWindow()
player:sendTextMessage(type, text[, position, primaryValue = 0, primaryColor = TEXTCOLOR_NONE[, secondaryValue = 0, secondaryColor = TEXTCOLOR_NONE]])
player:sendTutorial(tutorialId)
player:setAccountType(accountType)
player:setBankBalance(bankBalance)
player:setCapacity(capacity)
player:setGhostMode(enabled)
player:setGroup(group)
player:setGuild(guild)
player:setGuildLevel(level)
player:setGuildNick(nick)
player:setMaxMana(maxMana)
player:setSex(newSex)
player:setSkull(skull)
player:setSkullTime(skullTime)
player:setStamina(stamina)
player:setStorageValue(key, value)
player:setTown(town)
player:setVocation(vocation)
player:showTextDialog(itemId[, canWrite[, length]])
player:showTextDialog(itemId[, text[, canWrite[, length]]])
position:getDistance(positionEx)
position:getTile()
position:isSightClear(positionEx[, sameFloor = true])
position:sendDistanceEffect(positionEx, distanceEffect[, player = nullptr])
position:sendMagicEffect(magicEffect[, player = nullptr])
Tile.new(position)
Tile.new(x, y, z)
tile:getBottomCreature()
tile:getBottomVisibleCreature(creature)
tile:getCreatureCount()
tile:getCreatures()
tile:getDownItemCount()
tile:getFieldItem()
tile:getGround()
tile:getHouse()
tile:getItemById(itemId[, subType = -1])
tile:getItemByTopOrder(topOrder)
tile:getItemByType(itemType)
tile:getItemCount()
tile:getItems()
tile:getPosition()
tile:getThing(index)
tile:getThingCount()
tile:getTopCreature()
tile:getTopDownItem()
tile:getTopItemCount()
tile:getTopTopItem()
tile:getTopVisibleCreature(creature)
tile:getTopVisibleThing(creature)
tile:hasFlag(flag)
tile:hasProperty(property[, item])
tile:queryAdd(thing[, flags])
Town(id or name)
Town.new(id or name)
town:getId()
town:getName()
town:getTemplePosition()
Vocation(id)
Vocation.new(id)
vocation:getAttackSpeed()
vocation:getBaseSpeed()
vocation:getCapacityGain()
vocation:getClientId()
vocation:getDemotion()
vocation:getDescription()
vocation:getHealthGain()
vocation:getHealthGainAmount()
vocation:getHealthGainTicks()
vocation:getId()
vocation:getManaGain()
vocation:getManaGainAmount()
vocation:getManaGainTicks()
vocation:getMaxSoul()
vocation:getName()
vocation:getPromotion()
vocation:getRequiredManaSpent(magicLevel)
vocation:getRequiredSkillTries(skillType, skillLevel)
vocation:getSoulGainTicks()
```
